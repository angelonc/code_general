function  batchstrfparam;
clear;
[cursmr,cursrn]=importfilename;
[M,N]=size(cursmr.data);
clear N;
for n=1:M,
   filename=cursmr.data(n,1);
   filename=[filename(1:length(filename)-4) '_m.mat'];
   f=['load ' filename];
   eval(f);
   mrx10(n,:)=x10;
   mrw1(n,:)=w1;
   mrsf10(n,:)=sf10;
   mrspectrop1(n,:)=spectrop1;
   mrt10(n,:)=t10;
   mrc1(n,:)=c1;
   mrtf10(n,:)=tf10;
   mrq1(n,:)=q1;
   mrbelta1(n,:)=belta1;
   mrEnoise1(n)=Enoise1;
   mrE1(n)=E1;
   mrE1s(n)=E1s;
   mrE1a(n)=E1a;
   mrE1b(n)=E1b;
   mrE1m(n)=E1m;
   mrE1am(n)=E1am;
   mrE1bm(n)=E1bm;
   mrErrs1(n)=Errs1;
   mrSNR1(n)=SNR1;
   mrSI1as(n)=SI1as;
   mrSI1at(n)=SI1at;
   mrSI1bs(n)=SI1bs;
   mrSI1bt(n)=SI1bt;
   mrSI1m(n)=SI1m;
   mrSI1ms(n)=SI1ms;
   mrElps1a(:,n)=Elps1a;
   mrElps1b(:,n)=Elps1b;
   mrElpt1a(n,:)=Elpt1a;
   mrElpt1b(n,:)=Elpt1b;
   mralpha_svd1(n)=alpha_svd1;
   mralpha_d1(n)=alpha_d1;
   mrk1(:,n)=k1;
   % ***for STRF2
   mrx20(n,:)=x20;
   mrw2(n,:)=w2;
   mrsf20(n,:)=sf20;
   mrspectrop2(n,:)=spectrop2;
   mrt20(n,:)=t20;
   mrc2(n,:)=c2;
   mrtf20(n,:)=tf20;
   mrq2(n,:)=q2;
   mrbelta2(n,:)=belta2;
   mrEnoise2(n)=Enoise2;
   mrE2(n)=E2;
   mrE2s(n)=E2s;
   mrE2a(n)=E2a;
   mrE2b(n)=E2b;
   mrE2m(n)=E2m;
   mrE2am(n)=E2am;
   mrE2bm(n)=E2bm;
   mrErrs2(n)=Errs2;
   mrSNR2(n)=SNR2;
   mrSI2as(n)=SI2as;
   mrSI2at(n)=SI2at;
   mrSI2bs(n)=SI2bs;
   mrSI2bt(n)=SI2bt;
   mrSI2m(n)=SI2m;
   mrSI2ms(n)=SI2ms;
   mrElps2a(:,n)=Elps2a;
   mrElps2b(:,n)=Elps2b;
   mrElpt2a(n,:)=Elpt2a(n);
   mrElpt2b(n,:)=Elpt2b;
   mralpha_svd2(n)=alpha_svd2;
   mralpha_d2(n)=alpha_d2;
   mrk2(:,n)=k2;
end

[M,N]=size(cursrn.data);
clear N;
for n=1:M,
   filename=cursrn.data(n,1);
   if ~strcmp(filename,'null')
      filename=[filename(1:length(filename)-4) '_m.mat'];
      f=['load ' filename];
      eval(f);
      rnx10(n,:)=x10;
   	rnw1(n,:)=w1;
   	rnsf10(n,:)=sf10;
   	rnspectrop1(n,:)=spectrop1;
   	rnt10(n,:)=t10;
   	rnc1(n,:)=c1;
   	rntf10(n,:)=tf10;
   	rnq1(n,:)=q1;
   	rnbelta1(n,:)=belta1;
   	rnEnoise1(n)=Enoise1;
   	rnE1(n)=E1;
   	rnE1s(n)=E1s;
   	rnE1a(n)=E1a;
   	rnE1b(n)=E1b;
   	rnE1m(n)=E1m;
   	rnE1am(n)=E1am;
   	rnE1bm(n)=E1bm;
   	rnErrs1(n)=Errs1;
   	rnSNR1(n)=SNR1;
   	rnSI1as(n)=SI1as;
   	rnSI1at(n)=SI1at;
   	rnSI1bs(n)=SI1bs;
   	rnSI1bt(n)=SI1bt;
   	rnSI1m(n)=SI1m;
   	rnSI1ms(n)=SI1ms;
   	rnElps1a(:,n)=Elps1a;
   	rnElps1b(:,n)=Elps1b;
   	rnElpt1a(n,:)=Elpt1a;
   	rnElpt1b(n,:)=Elpt1b;
   	rnalpha_svd1(n)=alpha_svd1;
   	rnalpha_d1(n)=alpha_d1;
      rnk1(:,n)=k1;
   	% ***for STRF2
   	rnx20(n,:)=x20;
   	rnw2(n,:)=w2;
   	rnsf20(n,:)=sf20;
   	rnspectrop2(n,:)=spectrop2;
   	rnt20(n,:)=t20;
   	rnc2(n,:)=c2;
   	rntf20(n,:)=tf20;
   	rnq2(n,:)=q2;
   	rnbelta2(n,:)=belta2;
   	rnEnoise2(n)=Enoise2;
   	rnE2(n)=E2;
   	rnE2s(n)=E2s;
   	rnE2a(n)=E2a;
   	rnE2b(n)=E2b;
   	rnE2m(n)=E2m;
   	rnE2am(n)=E2am;
   	rnE2bm(n)=E2bm;
   	rnErrs2(n)=Errs2;
   	rnSNR2(n)=SNR2;
   	rnSI2as(n)=SI2as;
   	rnSI2at(n)=SI2at;
   	rnSI2bs(n)=SI2bs;
   	rnSI2bt(n)=SI2bt;
   	rnSI2m(n)=SI2m;
   	rnSI2ms(n)=SI2ms;
   	rnElps2a(:,n)=Elps2a;
   	rnElps2b(:,n)=Elps2b;
   	rnElpt2a(n,:)=Elpt2a;
   	rnElpt2b(n,:)=Elpt2b;
   	rnalpha_svd2(n)=alpha_svd2;
      rnalpha_d2(n)=alpha_d2;
      rnk2(:,n)=k2;
   else
      rnx10(n,:)=0;
   	rnw1(n,:)=0;
   	rnsf10(n,:)=0;
   	rnspectrop1(n,:)=0;
   	rnt10(n,:)=0;
   	rnc1(n,:)=0;
   	rntf10(n,:)=0;
   	rnq1(n,:)=0;
   	rnbelta1(n,:)=0;
   	rnEnoise1(n)=0;
   	rnE1(n)=0;
   	rnE1s(n)=0;
   	rnE1a(n)=0;
   	rnE1b(n)=0;
   	rnE1m(n)=0;
   	rnE1am(n)=0;
   	rnE1bm(n)=0;
   	rnErrs1(n)=0;
   	rnSNR1(n)=0;
   	rnSI1as(n)=0;
   	rnSI1at(n)=0;
   	rnSI1bs(n)=0;
   	rnSI1bt(n)=0;
   	rnSI1m(n)=0;
   	rnSI1ms(n)=0;
   	rnElps1a(:,n)=0;
   	rnElps1b(:,n)=0;
   	rnElpt1a(n,:)=0;
   	rnElpt1b(n,:)=0;
   	rnalpha_svd1(n)=0;
   	rnalpha_d1(n)=0;
      rnk1(:,n)=0;
   	% ***for STRF2
   	rnx20(n,:)=0;
   	rnw2(n,:)=0;
   	rnsf20(n,:)=0;
   	rnspectrop2(n,:)=0;
   	rnt20(n,:)=0;
   	rnc2(n,:)=0;
   	rntf20(n,:)=0;
   	rnq2(n,:)=0;
   	rnbelta2(n,:)=0;
   	rnEnoise2(n)=0;
   	rnE2(n)=0;
   	rnE2s(n)=0;
   	rnE2a(n)=0;
   	rnE2b(n)=0;
   	rnE2m(n)=0;
   	rnE2am(n)=0;
   	rnE2bm(n)=0;
   	rnErrs2(n)=0;
   	rnSNR2(n)=0;
   	rnSI2as(n)=0;
   	rnSI2at(n)=0;
   	rnSI2bs(n)=0;
   	rnSI2bt(n)=0;
   	rnSI2m(n)=0;
   	rnSI2ms(n)=0;
   	rnElps2a(:,n)=0;
   	rnElps2b(:,n)=0;
   	rnElpt2a(n,:)=0;
   	rnElpt2b(n,:)=0;
   	rnalpha_svd2(n)=0;
      rnalpha_d2(n)=0;
      rnk2(:,n)=0;
   end
end
clear M;
save strfparam.mat mrk1 mrk2 rnk1 rnk2 mrx10 mrw1 mrsf10 mrspectrop1 mrt10 mrc1 mrtf10 mrq1 mrbelta1 mrEnoise1 mrE1 mrE1s mrE1a mrE1b mrE1m mrE1am mrE1bm mrErrs1 mrSNR1 mrSI1as mrSI1at mrSI1bs mrSI1bt mrSI1m mrSI1ms mrElps1a mrElps1b mrElpt1a mrElpt1b mralpha_svd1 mralpha_d1 mrx20 mrw2 mrsf20 mrspectrop2 mrt20 mrc2 mrtf20 mrq2 mrbelta2 mrEnoise2 mrE2 mrE2s mrE2a mrE2b mrE2m mrE2am mrE2bm mrErrs2 mrSNR2 mrSI2as mrSI2at mrSI2bs mrSI2bt mrSI2m mrSI2ms mrElps2a mrElps2b mrElpt2a mrElpt2b mralpha_svd2 mralpha_d2 rnx10 rnw1 rnsf10 rnspectrop1 rnt10 rnc1 rntf10 rnq1 rnbelta1 rnEnoise1 rnE1 rnE1s rnE1a rnE1b rnE1m rnE1am rnE1bm rnErrs1 rnSNR1 rnSI1as rnSI1at rnSI1bs rnSI1bt rnSI1m rnSI1ms rnElps1a rnElps1b rnElpt1a rnElpt1b rnalpha_svd1 rnalpha_d1 rnx20 rnw2 rnsf20 rnspectrop2 rnt20 rnc2 rntf20 rnq2 rnbelta2 rnEnoise2 rnE2 rnE2s rnE2a rnE2b rnE2m rnE2am rnE2bm rnErrs2 rnSNR2 rnSI2as rnSI2at rnSI2bs rnSI2bt rnSI2m rnSI2ms rnElps2a rnElps2b rnElpt2a rnElpt2b rnalpha_svd2 rnalpha_d2;
